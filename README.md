# debstep

Library to control `apt`(debian, ubuntu, mint default package manager) tasks via nodejs.
This library uses native binary `apt-pkg` library to access `apt` features.

## Installation

    npm install --save debstep

## Usage

You can get package information for any package version what exist in `apt-cache`

    import { aptCache } from 'debstep'
    const meta = aptCache.getTagsSync(make)

    console.log(meta)
    {
        Package: 'make',
        Version: '4.2.1-1.2',
        'Installed-Size': '384',
        Maintainer: 'Ubuntu Developers <ubuntu-devel-discuss@lists.ubuntu.com>',
        Architecture: 'amd64'
    }

## Rebuild

This package is already shipped with some prebuild binaries but if you have some
specific environment rebuild will start.
Packages `libapt-pkg-dev` and `build-essential` required before installation if no 
precompiled binaries are available.

    sudo apt install build-essential libapt-pkg-dev

[![JavaScript Style Guide](https://cdn.rawgit.com/standard/standard/master/badge.svg)](https://github.com/standard/standard)

# Reference

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [aptCache](#aptcache)
    -   [defaultTags](#defaulttags)
    -   [getTagsSync](#gettagssync)
        -   [Parameters](#parameters)
        -   [Examples](#examples)
    -   [getCurrentVersionSync](#getcurrentversionsync)
        -   [Parameters](#parameters-1)
        -   [Examples](#examples-1)
    -   [getCandidateVersionSync](#getcandidateversionsync)
        -   [Parameters](#parameters-2)
        -   [Examples](#examples-2)
    -   [hasUpgradesSync](#hasupgradessync)
        -   [Parameters](#parameters-3)
        -   [Examples](#examples-3)
-   [apt](#apt)
    -   [update](#update)
    -   [upgrade](#upgrade)
    -   [install](#install)
        -   [Parameters](#parameters-4)
    -   [uninstall](#uninstall)
        -   [Parameters](#parameters-5)
-   [debstep](#debstep)

## aptCache

apt-cache representation

### defaultTags

List of tags used in getTags method defaults

Type: [Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)>

### getTagsSync

Extract package meta-information from apt-cache index.
Detailed package info

#### Parameters

-   `packageName` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `tags` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)>**  (optional, default `defaultTags`)
-   `version` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** 

#### Examples

```javascript
import { aptCache } from 'debstep'
const meta = aptCache.getTagsSync('vim', ['Installed-Size'], '2:8.1.0875-5')
console.log('vim installed size', meta['Installed-Size'])
// #_ vim installed size 2800
```

Returns **{}?** 

### getCurrentVersionSync

Get current package version

#### Parameters

-   `packageName` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

#### Examples

```javascript
import { aptCache } from 'debstep'
const currentVersion = aptCache.getCurrentVersionSync('vim')
console.log('current version', currentVersion)
// #_ current version 2:8.1.0875-4
```

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** 

### getCandidateVersionSync

Get latest package version to be upgraded

#### Parameters

-   `packageName` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

#### Examples

```javascript
import { aptCache } from 'debstep'
const availableVersion = aptCache.getCandidateVersionSync('vim')
console.log('new version', availableVersion)
// #_ new version 2:8.1.0875-5
```

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** 

### hasUpgradesSync

Check if package has upgrades

#### Parameters

-   `packageName` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

#### Examples

```javascript
import { aptCache } from 'debstep'
const updateAvailable = aptCache.hasUpgradesSync('vim')
console.log('vim has a new version to upgrade:', updateAvailable)
// #_ vim has a new version to upgrade: false
```

Returns **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

## apt

apt command representation

### update

apt-update native execution

-   Throws **any** Not implemented yet

### upgrade

apt-upgrade native execution

-   Throws **any** Not implemented yet

### install

apt-install native execution

#### Parameters

-   `packageName` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 


-   Throws **any** Not implemented yet

### uninstall

apt-uninstall native execution

#### Parameters

-   `packageName` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 


-   Throws **any** Not implemented yet

## debstep
